language: ruby
sudo: false
cache: bundler
env:
  global:
    - AWS_REGION="ap-northeast-1"
    - secure: "pdtydri6wzvAidSbT0VzAsQmzkm97I6WGMtO+eAL1Sxg5WYQ3qTiq/yNSzZNZiSz/fxOurCjbtbGulzS/ycal11XAEFq+A5S5d5anfi9YTMx+e4xQI39kMoiHvwGrMzU2EndKW3TX7NQ3/IZ/wkuLgImM2I2C2N1EPFxvcPbGPPF9sb9EM6dY5aEWhtkF5Y1I0/eC/WOtIpG5pc/JBYbb9D9YLlF0CeYVPKxrLdNI9RdsR4ihpD5PwGWHEOZkswkTYtp/xyAIhOMBJNlcDYFll0v0DzgnGiU7XXSMGb9XS6NlHTRQURjVIiyzxyFAcAYIeItTUOPhoPsTuD+mxOVCny6bv/4UlO9fTNTpPWLd6dpD/vrLkAz2fR73ImRms3LSwIoFbQzRsAtFEwipxPEJRLQODFoBmJgg2bkNBRGkXmgP9Ys0bVdIQhdqzJOtKdktVUxCfhV0x58hWM9oCbw/wYit3bapP8QmPxVyulkK+RWVSj9CIFyfL333uau0DGMofGxU7OBgwEhw5a87VDyg5s7I2KbeXLJ4LWXrYzTwz9tgvAo+90aOgyMYokSEIxMZ2lxob2qHrIz/xqPEUONssmLOXehwt43durBn/9sX6Dis2QfpeMcHkA+QnUSuBwqNgkobizR/8uzDhG61kBFIKriv3KBqSckaX+T7YGtlK8="
    - secure: "FgxC/oxddf72rc/pf7EzA8UpT6iqYWQUetRvyQPL1eey4XjP0N4bP535IqTUnYpLed2RZmtbSzcm5mjry6Ba/VGliaIA9S/EQKHQHmBKUGhNkqGzhqjHrnwUvXncmbr6N8bqinaq/2WSYZ/XMVBn8m+lESF3pgEiximaieZnO1HYD7RgZJclPET5qqG4jHqpVBCLa67Gz4MdAWRLci8rksTazXOnxA4y/xPZKcIHfaW//IC+dUXWK5egCERAplkh+aJhK0w3vUCv9XAuvzKFeKVljaVuGnZmLuezMwJYqpIJhP4TiAQIb9JR7JZZ1LTH6Iuk8VJsOmyrFG4jMbXkfwWKQ/e1zRoKuNvmjG/V1YU56NONMSqIiAYesv3yrnJDgfPeaye3fUgAaLSRNhGR+4dSPuEsCcfbOHU0s4AArp4Q2hlnvJ0VdnaAZJXj8lfQhLRXOh8wQbjoFLwuwptxfb5k5WBtf6jsfmax4P4v0JIkzVopNkfSwgHJFYx35i44fmtRoZEsdxPMdURpE4GJELTlTViuDkbJYpkbSUYEomQbvCSb7pb1UFsKTz5tpbStt1Qmm4eUwXDnhD9dWnBZgHnFShdj1c9527OE5tOl7yIIueUxQ+xqN5wFF2MaOr9sm2/DMXwkBApGIF9y+u/J7zS8GsX7kpK5hkyU8eE/9dA="
rvm:
  - 2.2
  - 2.3
  - 2.4
  - 2.5
before_script:
  - gem update --system
  - gem update --remote bundler
script:
  - bundle exec rspec
  - bundle exec rubocop
deploy:
  provider: rubygems
  gem: aws-ssm-env
  api_key:
    secure: "bj4BAACJ5lhNxisUNTIvdiC9trSGtss/B8ypLH1mkuZ2FRtB8sAUCU4Ze8JpYf9MJZ5iGnnaEvvj7wHAIt3wAtaQr8LdPss4MM79JwHoJ/TGnZRLzgyOukidlIjn8AI8RLqnkjMqEJ5kSvGYi2nS0bGDQH2+rCd8bwAFQxsiqDXfBJPE4vXtiDTUUsA6geWbGGtHq0uWg9k6GBORN1NHI8x3VxVc/Y0iY+eIWKpUoIVcH+kVcd8jcGrsSy4Dme2XqYaW77hQISkBvJxFKfHZQyY/Q7EVOCLtdaJElE7DhFOr0bB8sFroGt4jcFZLCPmPYAu5PsqBnxkY6y/kaZWBACvNpPqIgGRdLCokJrd3ez8iBxF6ooDP6WmPnqBj4gRhCl5eLsJX6Xqdh1B8G9QUna/2JxS6pxeFJik4+ghFHoyxqmz14mKofDvqtnWlfvLtnanJxMdENHy1jiEwSu2ruOB0VSyoE9MeutdE0WpE18vpvbRpb5o/Ny0WXUARixHCZ61bDT7QsgELgDKp72RV0mI2QJUvox0NDNAsPitdVLepgHT3BuP79uKbt8q9PkK5cgexjknCIGzbMmY+XQOxq3I0BVyz2BVjsgGllwn98NEgY4AotPNmN7qy0gNse7JoRiZ035ownuQAwPT8PdMA0eaUGCHChKIL6yzZSLC9nTE="
  on:
    repo: sonodar/aws-ssm-env-ruby
    tags: true
